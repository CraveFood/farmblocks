import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";

import TextInput, { TextAreaInput } from ".";

<Meta title="Form|Text Input" />

# input-text

A regular html input composed with our formInput HOC [read the docs](https://cravefood.github.io/farmblocks/?path=/docs/form-hoc-forminput--basic#hoc-input)
Note that this package also exports a `TextAreaInput`

## Basic Example

```jsx
import TextInput, {TextAreaInput} from "@crave/farmblocks-input-text";
const Form = () => (
  <TextInput label="Label" placeholder="Helpful placeholder" />
  <TextAreaInput label="Label" placeholder="Helpful placeholder" />
);
```

<Preview>
  <Story name="Basic">
    <Container>
      <TextInput
        placeholder="Insert a helpul placeholder here ;)"
        label="Label"
      />
    </Container>
  </Story>
</Preview>

## Protected Input

In addition to the regular input properties, there's a `protected` flag that makes the field harder to edit, the user will have to unlock the field by clicking on a pencil icon, and after typing the new value, hit Enter to replace the previous value or Escape to leave the previous value.

Use these properties to do so:

- **protected** (_Boolean_)
  > a flag that makes the field harder to edit, the user will have to unlock the field by clicking on a pencil icon, and after typing the new value, hit Enter to replace the previous value or Escape to leave the previous value
- **protectedValue** (_Node_)
  > the value to render while the input is protected, in case you need to format it differently than the open input. Will fall back to `value`
- **onUncover** (_Function_)
  > if the field is protected, this event handler will be called when the protection cover is removed (click on the edit icon)
- **onKeyDown** (_Function_)
  > onKeyDown event handler
- **onBlur** (_Function_)
  > onBlur event handler

<Preview>
  <Story name="Protected Input">
    <div>
      <TextInput protected placeholder="Input without label" />
      <TextInput protected label="With value" value="Foo bar" />
      <TextInput
        protected
        label="With protectedValue"
        protectedValue="Zero"
        value={0}
      />
      <TextInput protected label="Invalid" invalid />
      <TextInput protected label="With prefix" prefix="$" value="0" />
      <TextInput
        protected
        label="Validation Messages"
        value=""
        validationMessages={["Error message here"]}
      />
      <TextInput
        protected
        label="Multiple Validation Messages"
        value=""
        validationMessages={["Error message here", "Another error"]}
      />
      <TextInput
        protected
        label="Disabled"
        placeholder="With placeholder"
        disabled
      />
    </div>
  </Story>
</Preview>

## Text Area Input

Import `TextAreaInput` to use a `textarea` input

```jsx
import { TextAreaInput } from "@crave/farmblocks-input-text";
```

<Preview>
  <Story name="Text Area Input">
    <div>
      <TextAreaInput rows="3" placeholder="Input without label" />
      <TextAreaInput rows="3" label="With value" value="Foo bar" />
      <TextAreaInput rows="3" label="Invalid" invalid />
      <TextAreaInput
        rows="3"
        label="Validation Messages"
        value=""
        validationMessages={["Error message here"]}
      />
      <TextAreaInput
        rows="3"
        label="Multiple Validation Messages"
        value=""
        validationMessages={["Error message here", "Another error"]}
      />
      <TextAreaInput
        rows="3"
        label="Disabled"
        placeholder="With placeholder"
        disabled
      />
    </div>
  </Story>
</Preview>
